<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Employee Management</title>

  <!-- ‚úÖ CSS -->
  <link rel="stylesheet" href="global.css" />
  <link rel="stylesheet" href="employee.css?v=2" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- ‚úÖ SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
  <div class="container">
    <!-- ==================== HEADER ==================== -->
    <header class="header">
      <h2><i class="fas fa-people-roof"></i> Employee Management</h2>
    </header>

    <!-- ==================== CONTROLS ==================== -->
    <section class="data-section">
      <div class="header-controls">
        <input
          type="text"
          id="searchEmployee"
          placeholder="üîé Search by ID or Name"
          aria-label="Search Employee"
        />

        <button type="button" class="btn btn-primary btn-add">
          <i class="fas fa-user-plus"></i> Add Employee
        </button>

        <button type="button" class="btn btn-primary btn-import">
          <i class="fas fa-file-import"></i> Import CSV
        </button>

        <button type="button" class="btn btn-primary btn-export">
          <i class="fas fa-file-export"></i> Export CSV
        </button>
      </div>
    </section>

    <!-- ==================== TABLE ==================== -->
    <section class="main-table">
      <div id="loadingOverlay" class="hidden">Loading...</div>

      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th><i class="fas fa-id-badge"></i> ID</th>
              <th><i class="fas fa-user"></i> Name</th>
              <th><i class="fas fa-building-user"></i> Department</th>
              <th><i class="fas fa-image"></i> Photo</th>
              <th><i class="fas fa-cogs"></i> Actions</th>
            </tr>
          </thead>
          <tbody id="employeeTableBody">
            <!-- Dynamic Rows Here -->
          </tbody>
        </table>
      </div>

      <div id="pagination" class="pagination"></div>
    </section>
  </div>

  <!-- ==================== MODAL: ADD/EDIT ==================== -->
  <div class="modal hidden" id="employeeFormModal" role="dialog" aria-modal="true">
    <form class="modal-content" id="employeeForm" novalidate>
      <h3 id="modalTitle"><i class="fas fa-user-plus"></i> Add Employee</h3>

      <div class="modal-body">
        <!-- LEFT: Dropzone -->
        <div class="modal-left">
          <label><i class="fas fa-image"></i> Photo</label>
          <div class="drop-zone" id="dropZone">
            <p><i class="fas fa-cloud-upload-alt"></i> Drag & Drop ‡∏´‡∏£‡∏∑‡∏≠ Click ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ</p>
            <input type="file" id="employeePhoto" name="employeePhoto" accept="image/*" hidden />
            <img id="previewPhoto" class="preview-thumb" style="display: none;" />
          </div>
        </div>

        <!-- RIGHT: Form Fields -->
        <div class="modal-right">
          <label for="employeeId"><i class="fas fa-id-card"></i> ID</label>
          <input type="text" id="employeeId" name="employeeId" required placeholder="Enter ID" />

          <label for="employeeName"><i class="fas fa-user"></i> Name</label>
          <input type="text" id="employeeName" name="employeeName" required placeholder="Enter Name" />

          <label for="employeeDept"><i class="fas fa-sitemap"></i> Department</label>
          <input type="text" id="employeeDept" name="employeeDept" required placeholder="Enter Department" />

          <div class="modal-actions">
            <button type="submit" class="btn btn-success btn-save">
              <i class="fas fa-save"></i> Save
            </button>
            <button type="button" class="btn btn-danger btn-cancel" id="cancelBtn">
              <i class="fas fa-times"></i> Cancel
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <!-- ==================== FOOTER ==================== -->
  <footer class="footer">
    <p>&copy; 2025 RD Wash System.</p>
  </footer>

  <!-- ==================== JS Modules ==================== -->
  <script type="module" src="firebaseConfig.js"></script>
  <script type="module" src="./employeeModel.js"></script>
  <script type="module" src="./employeeView.js"></script>
  <script type="module" src="./employeeController.js"></script>
</body>
</html>
